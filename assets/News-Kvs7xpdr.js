import{u as P,j as t,L as u,r as i}from"./index-A6ZF1kkV.js";import{P as p,N as b,$ as z}from"./module-3I9qsu5i.js";const v="_container_b1z4z_1",y="_main_b1z4z_13",k="_title_b1z4z_21",L="_text_b1z4z_31",$="_container_news_b1z4z_41",l={container:v,main:y,title:k,text:L,container_news:$},S="_list_item_16r64_1",q={list_item:S};function h({news:a}){const o=P();return t.jsx("ul",{className:q.list_item,children:a.map((s,_)=>t.jsx("li",{children:t.jsx(u,{to:`/${s.source.id}`,state:{from:o,article:s},children:t.jsx(b,{title:s.title,image:s.urlToImage})})},_))})}h.propTypes={news:p.array};const E="_pagination_list_10nx3_1",R="_pagination_item_10nx3_15",T="_pagination_link_10nx3_23",g={pagination_list:E,pagination_item:R,pagination_link:T};function x({postsPerPage:a,totalPosts:o,paginate:s}){const[_,c]=i.useState(1),d=[];for(let e=1;e<=Math.ceil(o/a);e++)d.push(e);const r=e=>{c(e),s(e)};return t.jsx("div",{children:t.jsx("nav",{children:t.jsx("ul",{className:g.pagination_list,children:d.map(e=>t.jsx("li",{className:g.pagination_item,children:t.jsx(u,{to:"/",state:{page:e},onClick:()=>r(e),className:g.pagination_link,children:e})},e))})})})}x.propTypes={postsPerPage:p.number.isRequired,totalPosts:p.number.isRequired,paginate:p.func.isRequired};function I(){const[a,o]=i.useState([]),[s,_]=i.useState(1),[c]=i.useState(16),[d,r]=i.useState(!1),e=()=>{r(!0),fetch("https://newsapi.org/v2/everything?q=world&apiKey=d526f51e3d9a4f0dba138594e06c3b1f").then(n=>n.json()).then(n=>{const N=n.articles||[];o(N),r(!1)}).catch(n=>{console.log(n),r(!1)})};i.useEffect(()=>{e()},[]);const m=s*c,f=m-c,j=a.slice(f,m),w=n=>_(n);return t.jsx("div",{className:l.container,children:t.jsxs("main",{className:l.main,children:[t.jsx("h1",{className:l.title,children:"News from around the world"}),t.jsx("p",{className:l.text,children:"Here you can see and read news from all world. Enjoy!"}),t.jsxs("div",{className:l.container_news,children:[d?t.jsx(z,{visible:!0,height:"80",width:"80",color:"#c41b34",radius:"9",ariaLabel:"three-dots-loading"}):null,t.jsx(h,{news:j})]}),t.jsx(x,{postsPerPage:c,totalPosts:a.length,paginate:w})]})})}export{I as default};
